function NewsCategory(){}NewsCategory.prototype.run=function(){var t=this;t.listenAddCategoryEvent(),t.listenEditCategoryEvent(),t.listenDeleteCategoryEvent()},NewsCategory.prototype.listenAddCategoryEvent=function(){$("#add-btn").click(function(){plpalert.alertOneInput({title:"Add new category",placeholder:"Please input new category",confirmCallback:function(t){plpajax.post({url:"/cms/add_news_category/",data:{name:t},success:function(t){200===t.code?(console.log(t),window.location.reload()):plpalert.close()}})}})})},NewsCategory.prototype.listenEditCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),n=t.attr("data-name");plpalert.alertOneInput({title:"Name change",placeholder:"Please input new name of category",value:n,confirmCallback:function(t){plpajax.post({url:"/cms/edit_news_category/",data:{pk:e,name:t},success:function(t){200===t.code?window.location.reload():plpalert.close()}})}})})},NewsCategory.prototype.listenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var t=$(this).parent().parent().attr("data-pk");plpalert.alertConfirm({title:"Are you sure you want to delete it?",confirmCallback:function(){plpajax.post({url:"/cms/delete_news_category/",data:{pk:t},success:function(t){200===t.code&&window.location.reload()}})}})})},$(function(){(new NewsCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfY2F0ZWdvcnkuanMiXSwibmFtZXMiOlsiTmV3c0NhdGVnb3J5IiwicHJvdG90eXBlIiwicnVuIiwic2VsZiIsInRoaXMiLCJsaXN0ZW5BZGRDYXRlZ29yeUV2ZW50IiwibGlzdGVuRWRpdENhdGVnb3J5RXZlbnQiLCJsaXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50IiwiJCIsImNsaWNrIiwicGxwYWxlcnQiLCJhbGVydE9uZUlucHV0IiwidGl0bGUiLCJwbGFjZWhvbGRlciIsImNvbmZpcm1DYWxsYmFjayIsImlucHVWYWx1ZSIsInBscGFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsIm5hbWUiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY2xvc2UiLCJ0ciIsInBhcmVudCIsInBrIiwiYXR0ciIsInZhbHVlIiwiaW5wdXRWYWx1ZSIsImFsZXJ0Q29uZmlybSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLElBQU0sV0FDekIsSUFBSUMsRUFBT0MsS0FDWEQsRUFBS0UseUJBQ0xGLEVBQUtHLDBCQUNMSCxFQUFLSSw2QkFHVFAsYUFBYUMsVUFBVUksdUJBQXlCLFdBQy9CRyxFQUFFLFlBQ1JDLE1BQU0sV0FDVEMsU0FBU0MsY0FBYyxDQUNuQkMsTUFBUyxtQkFDVEMsWUFBZSw0QkFDZkMsZ0JBQW1CLFNBQVVDLEdBQ3pCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sMEJBQ1BDLEtBQVEsQ0FDSkMsS0FBUUwsR0FFWk0sUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLE1BQ2JDLFFBQVFDLElBQUlGLEdBQ1pHLE9BQU9DLFNBQVNDLFVBRWhCakIsU0FBU2tCLGlCQVNyQzVCLGFBQWFDLFVBQVVLLHdCQUEwQixXQUUvQkUsRUFBRSxhQUNSQyxNQUFNLFdBQ1YsSUFDSW9CLEVBRGFyQixFQUFFSixNQUNDMEIsU0FBU0EsU0FDekJDLEVBQUtGLEVBQUdHLEtBQUssV0FDYlosRUFBT1MsRUFBR0csS0FBSyxhQUNuQnRCLFNBQVNDLGNBQWMsQ0FDbkJDLE1BQVMsY0FDVEMsWUFBZSxvQ0FDZm9CLE1BQVNiLEVBQ1ROLGdCQUFtQixTQUFVb0IsR0FDekJsQixRQUFRQyxLQUFLLENBQ1RDLElBQU8sMkJBQ1BDLEtBQVEsQ0FDSlksR0FBTUEsRUFDTlgsS0FBUWMsR0FFWmIsUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLEtBQ2JHLE9BQU9DLFNBQVNDLFNBRWhCakIsU0FBU2tCLGlCQVNyQzVCLGFBQWFDLFVBQVVNLDBCQUE0QixXQUMvQkMsRUFBRSxlQUNSQyxNQUFNLFdBQ1osSUFFSXNCLEVBRmF2QixFQUFFSixNQUNDMEIsU0FBU0EsU0FDakJFLEtBQUssV0FDakJ0QixTQUFTeUIsYUFBYSxDQUNsQnZCLE1BQVMsc0NBQ1RFLGdCQUFtQixXQUNmRSxRQUFRQyxLQUFLLENBQ1RDLElBQU8sNkJBQ1BDLEtBQVEsQ0FDSlksR0FBTUEsR0FFVlYsUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLE1BQ2JHLE9BQU9DLFNBQVNDLGtCQVU1Q25CLEVBQUUsWUFDaUIsSUFBSVIsY0FDVkUiLCJmaWxlIjoibmV3c19jYXRlZ29yeS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzQ2F0ZWdvcnkoKSB7XHJcblxyXG59O1xyXG5cclxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlbkFkZENhdGVnb3J5RXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuRWRpdENhdGVnb3J5RXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuRGVsZXRlQ2F0ZWdvcnlFdmVudCgpO1xyXG59O1xyXG5cclxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5BZGRDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGFkZEJ0biA9ICQoJyNhZGQtYnRuJyk7XHJcbiAgICBhZGRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBscGFsZXJ0LmFsZXJ0T25lSW5wdXQoe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAnQWRkIG5ldyBjYXRlZ29yeScsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlcic6ICdQbGVhc2UgaW5wdXQgbmV3IGNhdGVnb3J5JyxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uIChpbnB1VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHBscGFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL2FkZF9uZXdzX2NhdGVnb3J5LycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogaW5wdVZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHBhbGVydC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBlZGl0QnRuID0gJChcIi5lZGl0LWJ0blwiKTtcclxuICAgIGVkaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50QnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50QnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcGsnKTtcclxuICAgICAgICB2YXIgbmFtZSA9IHRyLmF0dHIoJ2RhdGEtbmFtZScpO1xyXG4gICAgICAgIHBscGFsZXJ0LmFsZXJ0T25lSW5wdXQoe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAnTmFtZSBjaGFuZ2UnLFxyXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInOiAnUGxlYXNlIGlucHV0IG5ldyBuYW1lIG9mIGNhdGVnb3J5JyxcclxuICAgICAgICAgICAgJ3ZhbHVlJzogbmFtZSxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBwbHBhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9lZGl0X25ld3NfY2F0ZWdvcnkvJyxcclxuICAgICAgICAgICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3BrJzogcGssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogaW5wdXRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHBhbGVydC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGRlbGV0ZUJ0biA9ICQoXCIuZGVsZXRlLWJ0blwiKTtcclxuICAgIGRlbGV0ZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRCdG4gPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRCdG4ucGFyZW50KCkucGFyZW50KCk7XHJcbiAgICAgICAgdmFyIHBrID0gdHIuYXR0cignZGF0YS1waycpO1xyXG4gICAgICAgIHBscGFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICd0aXRsZSc6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIGl0PycsXHJcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwbHBhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9kZWxldGVfbmV3c19jYXRlZ29yeS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwa1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2F0ZWdvcnkgPSBuZXcgTmV3c0NhdGVnb3J5KCk7XHJcbiAgICBjYXRlZ29yeS5ydW4oKTtcclxufSk7Il19
